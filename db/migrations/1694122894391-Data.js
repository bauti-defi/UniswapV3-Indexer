module.exports = class Data1694122894391 {
    name = 'Data1694122894391'

    async up(db) {
        await db.query(`CREATE TABLE "decrease_position_liquidity" ("id" character varying NOT NULL, "log_index" integer NOT NULL, "liquidity_delta" numeric NOT NULL, "amount0" numeric NOT NULL, "amount1" numeric NOT NULL, "transaction_id" character varying, "position_id" character varying, CONSTRAINT "PK_bf11bf3933520167f2a18f379bd" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_cfd3a322107d64a437b15aa800" ON "decrease_position_liquidity" ("transaction_id") `)
        await db.query(`CREATE INDEX "IDX_93246caa66ad0dd97ea994b2fa" ON "decrease_position_liquidity" ("position_id") `)
        await db.query(`CREATE TABLE "increase_position_liquidity" ("id" character varying NOT NULL, "log_index" integer NOT NULL, "liquidity_delta" numeric NOT NULL, "amount0" numeric NOT NULL, "amount1" numeric NOT NULL, "transaction_id" character varying, "position_id" character varying, CONSTRAINT "PK_7a81cb1f3ff29703302d9a9c7fd" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_c41bf1c21aabb9af01cb8ce0a1" ON "increase_position_liquidity" ("transaction_id") `)
        await db.query(`CREATE INDEX "IDX_3d238dbf0b6ff4c7da78860672" ON "increase_position_liquidity" ("position_id") `)
        await db.query(`CREATE TABLE "collection_position" ("id" character varying NOT NULL, "log_index" integer NOT NULL, "recipient" text, "amount0_collected" numeric NOT NULL, "amount1_collected" numeric NOT NULL, "transaction_id" character varying, "position_id" character varying, CONSTRAINT "PK_7dbb5a3433707c33075f74cc6a2" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_8b22da9ea7e4bba366734212cf" ON "collection_position" ("transaction_id") `)
        await db.query(`CREATE INDEX "IDX_06d472357c084bb3cc06415af2" ON "collection_position" ("recipient") `)
        await db.query(`CREATE INDEX "IDX_cd59cb744a959ddeeff8b1c1b5" ON "collection_position" ("position_id") `)
        await db.query(`CREATE TABLE "position" ("id" character varying NOT NULL, "tick_lower" integer NOT NULL, "tick_upper" integer NOT NULL, "token_id" numeric NOT NULL, "pool_id" character varying, CONSTRAINT "PK_b7f483581562b4dc62ae1a5b7e2" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_128820371117dcf3915dc01ad3" ON "position" ("pool_id") `)
        await db.query(`CREATE INDEX "IDX_fe2fc9bc8dfb4c0adc294d7f8c" ON "position" ("tick_lower") `)
        await db.query(`CREATE INDEX "IDX_a63621aee4a0e085ad5a008612" ON "position" ("tick_upper") `)
        await db.query(`CREATE UNIQUE INDEX "IDX_c698a043d388c59154c869435a" ON "position" ("token_id") `)
        await db.query(`CREATE TABLE "pool" ("id" character varying NOT NULL, "chain_id" integer NOT NULL, "token0" text NOT NULL, "token1" text NOT NULL, "fee" integer NOT NULL, "pool_address" text NOT NULL, CONSTRAINT "PK_db1bfe411e1516c01120b85f8fe" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_d33ce43928d5ee9e71030dc266" ON "pool" ("token0") `)
        await db.query(`CREATE INDEX "IDX_d39ca709b11f93e38e867c1cec" ON "pool" ("token1") `)
        await db.query(`CREATE INDEX "IDX_211ad7aa73f85a0b5590e7b67a" ON "pool" ("fee") `)
        await db.query(`CREATE UNIQUE INDEX "IDX_fc7f03eb5c2391d4086bc76c84" ON "pool" ("chain_id", "pool_address") `)
        await db.query(`CREATE TABLE "swap" ("id" character varying NOT NULL, "log_index" integer NOT NULL, "recipient" text, "amount0" numeric NOT NULL, "amount1" numeric NOT NULL, "sqrt_price_x96" numeric NOT NULL, "liquidity" numeric NOT NULL, "tick" integer NOT NULL, "transaction_id" character varying, "pool_id" character varying, CONSTRAINT "PK_4a10d0f359339acef77e7f986d9" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_78506c4050ae7cedd50b08c0dc" ON "swap" ("transaction_id") `)
        await db.query(`CREATE INDEX "IDX_e78e7b899d2e3327494e5fe975" ON "swap" ("pool_id") `)
        await db.query(`CREATE INDEX "IDX_f0b35b291cac1c935196170795" ON "swap" ("recipient") `)
        await db.query(`CREATE INDEX "IDX_7b1fec35dcad8a910a60b0fbf6" ON "swap" ("sqrt_price_x96") `)
        await db.query(`CREATE INDEX "IDX_20b0f47fa4e580aa466b329b4f" ON "swap" ("tick") `)
        await db.query(`CREATE TABLE "mint_position" ("id" character varying NOT NULL, "log_index" integer NOT NULL, "amount0" numeric NOT NULL, "amount1" numeric NOT NULL, "liquidity" numeric NOT NULL, "recipient" text, "transaction_id" character varying, "position_id" character varying, CONSTRAINT "REL_d323341aad6f9c2c00b967f761" UNIQUE ("position_id"), CONSTRAINT "PK_34616b042b474a8b168bcd6a03e" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_ef29b975a943bef758913c4f53" ON "mint_position" ("transaction_id") `)
        await db.query(`CREATE INDEX "IDX_11804999d0bce72926fb79234d" ON "mint_position" ("recipient") `)
        await db.query(`CREATE UNIQUE INDEX "IDX_d323341aad6f9c2c00b967f761" ON "mint_position" ("position_id") `)
        await db.query(`CREATE TABLE "burn_position" ("id" character varying NOT NULL, "transaction_index" integer NOT NULL, "transaction_id" character varying, "position_id" character varying, CONSTRAINT "REL_0e3eeff82b8efbc41001d413c0" UNIQUE ("position_id"), CONSTRAINT "PK_9a5cd641201243502875c046307" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_116ed5a1cb8fe7914b0f04ca44" ON "burn_position" ("transaction_id") `)
        await db.query(`CREATE UNIQUE INDEX "IDX_0e3eeff82b8efbc41001d413c0" ON "burn_position" ("position_id") `)
        await db.query(`CREATE TABLE "transaction" ("id" character varying NOT NULL, "transaction_index" integer NOT NULL, "hash" text NOT NULL, "to" text, "from" text, "status" integer, "gas_used" numeric NOT NULL, "block_id" character varying, CONSTRAINT "PK_89eadb93a89810556e1cbcd6ab9" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_c0e1460f3c9eee975fee81002d" ON "transaction" ("block_id") `)
        await db.query(`CREATE UNIQUE INDEX "IDX_de4f0899c41c688529784bc443" ON "transaction" ("hash") `)
        await db.query(`CREATE INDEX "IDX_1713783ebe978fa2ae9654e4bb" ON "transaction" ("to") `)
        await db.query(`CREATE INDEX "IDX_290df3897fac99713afb5f3d7a" ON "transaction" ("from") `)
        await db.query(`CREATE INDEX "IDX_63f749fc7f7178ae1ad85d3b95" ON "transaction" ("status") `)
        await db.query(`CREATE TABLE "block" ("id" character varying NOT NULL, "chain_id" integer NOT NULL, "block_number" integer NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, CONSTRAINT "PK_d0925763efb591c2e2ffb267572" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_4a93f9f420d5e2c32f108975b7" ON "block" ("chain_id") `)
        await db.query(`CREATE INDEX "IDX_f40192bd17405d84ecdb4163bb" ON "block" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_5c67cbcf4960c1a39e5fe25e87" ON "block" ("timestamp") `)
        await db.query(`ALTER TABLE "decrease_position_liquidity" ADD CONSTRAINT "FK_cfd3a322107d64a437b15aa8005" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "decrease_position_liquidity" ADD CONSTRAINT "FK_93246caa66ad0dd97ea994b2fa6" FOREIGN KEY ("position_id") REFERENCES "position"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "increase_position_liquidity" ADD CONSTRAINT "FK_c41bf1c21aabb9af01cb8ce0a13" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "increase_position_liquidity" ADD CONSTRAINT "FK_3d238dbf0b6ff4c7da78860672b" FOREIGN KEY ("position_id") REFERENCES "position"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "collection_position" ADD CONSTRAINT "FK_8b22da9ea7e4bba366734212cff" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "collection_position" ADD CONSTRAINT "FK_cd59cb744a959ddeeff8b1c1b5d" FOREIGN KEY ("position_id") REFERENCES "position"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "position" ADD CONSTRAINT "FK_128820371117dcf3915dc01ad30" FOREIGN KEY ("pool_id") REFERENCES "pool"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "swap" ADD CONSTRAINT "FK_78506c4050ae7cedd50b08c0dc5" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "swap" ADD CONSTRAINT "FK_e78e7b899d2e3327494e5fe975d" FOREIGN KEY ("pool_id") REFERENCES "pool"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "mint_position" ADD CONSTRAINT "FK_ef29b975a943bef758913c4f53c" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "mint_position" ADD CONSTRAINT "FK_d323341aad6f9c2c00b967f7617" FOREIGN KEY ("position_id") REFERENCES "position"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "burn_position" ADD CONSTRAINT "FK_116ed5a1cb8fe7914b0f04ca440" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "burn_position" ADD CONSTRAINT "FK_0e3eeff82b8efbc41001d413c0c" FOREIGN KEY ("position_id") REFERENCES "position"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transaction" ADD CONSTRAINT "FK_c0e1460f3c9eee975fee81002dc" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    }

    async down(db) {
        await db.query(`DROP TABLE "decrease_position_liquidity"`)
        await db.query(`DROP INDEX "public"."IDX_cfd3a322107d64a437b15aa800"`)
        await db.query(`DROP INDEX "public"."IDX_93246caa66ad0dd97ea994b2fa"`)
        await db.query(`DROP TABLE "increase_position_liquidity"`)
        await db.query(`DROP INDEX "public"."IDX_c41bf1c21aabb9af01cb8ce0a1"`)
        await db.query(`DROP INDEX "public"."IDX_3d238dbf0b6ff4c7da78860672"`)
        await db.query(`DROP TABLE "collection_position"`)
        await db.query(`DROP INDEX "public"."IDX_8b22da9ea7e4bba366734212cf"`)
        await db.query(`DROP INDEX "public"."IDX_06d472357c084bb3cc06415af2"`)
        await db.query(`DROP INDEX "public"."IDX_cd59cb744a959ddeeff8b1c1b5"`)
        await db.query(`DROP TABLE "position"`)
        await db.query(`DROP INDEX "public"."IDX_128820371117dcf3915dc01ad3"`)
        await db.query(`DROP INDEX "public"."IDX_fe2fc9bc8dfb4c0adc294d7f8c"`)
        await db.query(`DROP INDEX "public"."IDX_a63621aee4a0e085ad5a008612"`)
        await db.query(`DROP INDEX "public"."IDX_c698a043d388c59154c869435a"`)
        await db.query(`DROP TABLE "pool"`)
        await db.query(`DROP INDEX "public"."IDX_d33ce43928d5ee9e71030dc266"`)
        await db.query(`DROP INDEX "public"."IDX_d39ca709b11f93e38e867c1cec"`)
        await db.query(`DROP INDEX "public"."IDX_211ad7aa73f85a0b5590e7b67a"`)
        await db.query(`DROP INDEX "public"."IDX_fc7f03eb5c2391d4086bc76c84"`)
        await db.query(`DROP TABLE "swap"`)
        await db.query(`DROP INDEX "public"."IDX_78506c4050ae7cedd50b08c0dc"`)
        await db.query(`DROP INDEX "public"."IDX_e78e7b899d2e3327494e5fe975"`)
        await db.query(`DROP INDEX "public"."IDX_f0b35b291cac1c935196170795"`)
        await db.query(`DROP INDEX "public"."IDX_7b1fec35dcad8a910a60b0fbf6"`)
        await db.query(`DROP INDEX "public"."IDX_20b0f47fa4e580aa466b329b4f"`)
        await db.query(`DROP TABLE "mint_position"`)
        await db.query(`DROP INDEX "public"."IDX_ef29b975a943bef758913c4f53"`)
        await db.query(`DROP INDEX "public"."IDX_11804999d0bce72926fb79234d"`)
        await db.query(`DROP INDEX "public"."IDX_d323341aad6f9c2c00b967f761"`)
        await db.query(`DROP TABLE "burn_position"`)
        await db.query(`DROP INDEX "public"."IDX_116ed5a1cb8fe7914b0f04ca44"`)
        await db.query(`DROP INDEX "public"."IDX_0e3eeff82b8efbc41001d413c0"`)
        await db.query(`DROP TABLE "transaction"`)
        await db.query(`DROP INDEX "public"."IDX_c0e1460f3c9eee975fee81002d"`)
        await db.query(`DROP INDEX "public"."IDX_de4f0899c41c688529784bc443"`)
        await db.query(`DROP INDEX "public"."IDX_1713783ebe978fa2ae9654e4bb"`)
        await db.query(`DROP INDEX "public"."IDX_290df3897fac99713afb5f3d7a"`)
        await db.query(`DROP INDEX "public"."IDX_63f749fc7f7178ae1ad85d3b95"`)
        await db.query(`DROP TABLE "block"`)
        await db.query(`DROP INDEX "public"."IDX_4a93f9f420d5e2c32f108975b7"`)
        await db.query(`DROP INDEX "public"."IDX_f40192bd17405d84ecdb4163bb"`)
        await db.query(`DROP INDEX "public"."IDX_5c67cbcf4960c1a39e5fe25e87"`)
        await db.query(`ALTER TABLE "decrease_position_liquidity" DROP CONSTRAINT "FK_cfd3a322107d64a437b15aa8005"`)
        await db.query(`ALTER TABLE "decrease_position_liquidity" DROP CONSTRAINT "FK_93246caa66ad0dd97ea994b2fa6"`)
        await db.query(`ALTER TABLE "increase_position_liquidity" DROP CONSTRAINT "FK_c41bf1c21aabb9af01cb8ce0a13"`)
        await db.query(`ALTER TABLE "increase_position_liquidity" DROP CONSTRAINT "FK_3d238dbf0b6ff4c7da78860672b"`)
        await db.query(`ALTER TABLE "collection_position" DROP CONSTRAINT "FK_8b22da9ea7e4bba366734212cff"`)
        await db.query(`ALTER TABLE "collection_position" DROP CONSTRAINT "FK_cd59cb744a959ddeeff8b1c1b5d"`)
        await db.query(`ALTER TABLE "position" DROP CONSTRAINT "FK_128820371117dcf3915dc01ad30"`)
        await db.query(`ALTER TABLE "swap" DROP CONSTRAINT "FK_78506c4050ae7cedd50b08c0dc5"`)
        await db.query(`ALTER TABLE "swap" DROP CONSTRAINT "FK_e78e7b899d2e3327494e5fe975d"`)
        await db.query(`ALTER TABLE "mint_position" DROP CONSTRAINT "FK_ef29b975a943bef758913c4f53c"`)
        await db.query(`ALTER TABLE "mint_position" DROP CONSTRAINT "FK_d323341aad6f9c2c00b967f7617"`)
        await db.query(`ALTER TABLE "burn_position" DROP CONSTRAINT "FK_116ed5a1cb8fe7914b0f04ca440"`)
        await db.query(`ALTER TABLE "burn_position" DROP CONSTRAINT "FK_0e3eeff82b8efbc41001d413c0c"`)
        await db.query(`ALTER TABLE "transaction" DROP CONSTRAINT "FK_c0e1460f3c9eee975fee81002dc"`)
    }
}
