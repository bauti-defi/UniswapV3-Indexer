module.exports = class Data1694045468560 {
    name = 'Data1694045468560'

    async up(db) {
        await db.query(`CREATE TABLE "mint_position" ("id" character varying NOT NULL, "tick_lower" integer NOT NULL, "tick_upper" integer NOT NULL, "amount0" numeric NOT NULL, "amount1" numeric NOT NULL, "liquidity" numeric NOT NULL, "token_id" numeric NOT NULL, "recipient" text, "transaction_id" character varying, "pool_id" character varying, CONSTRAINT "PK_34616b042b474a8b168bcd6a03e" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_ef29b975a943bef758913c4f53" ON "mint_position" ("transaction_id") `)
        await db.query(`CREATE INDEX "IDX_735bd390d7f96c9d29443b18a3" ON "mint_position" ("pool_id") `)
        await db.query(`CREATE INDEX "IDX_72ef90f44fee5ba417dc2aab1a" ON "mint_position" ("token_id") `)
        await db.query(`CREATE INDEX "IDX_11804999d0bce72926fb79234d" ON "mint_position" ("recipient") `)
        await db.query(`CREATE TABLE "decrease_position_liquidity" ("id" character varying NOT NULL, "token_id" numeric NOT NULL, "tick_lower" integer NOT NULL, "tick_upper" integer NOT NULL, "liquidity_delta" numeric NOT NULL, "amount0" numeric NOT NULL, "amount1" numeric NOT NULL, "transaction_id" character varying, "pool_id" character varying, CONSTRAINT "PK_bf11bf3933520167f2a18f379bd" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_cfd3a322107d64a437b15aa800" ON "decrease_position_liquidity" ("transaction_id") `)
        await db.query(`CREATE INDEX "IDX_a9a54e6f04c0735d9d2b83978a" ON "decrease_position_liquidity" ("pool_id") `)
        await db.query(`CREATE INDEX "IDX_24c246a3072462aca1a85de760" ON "decrease_position_liquidity" ("token_id") `)
        await db.query(`CREATE INDEX "IDX_df9f8247259df16c9b0b5204f6" ON "decrease_position_liquidity" ("tick_lower") `)
        await db.query(`CREATE INDEX "IDX_3dce758f01f91d72f348132659" ON "decrease_position_liquidity" ("tick_upper") `)
        await db.query(`CREATE TABLE "collection_position" ("id" character varying NOT NULL, "token_id" numeric NOT NULL, "recipient" text, "tick_lower" integer NOT NULL, "tick_upper" integer NOT NULL, "amount0_collected" numeric NOT NULL, "amount1_collected" numeric NOT NULL, "transaction_id" character varying, "pool_id" character varying, CONSTRAINT "PK_7dbb5a3433707c33075f74cc6a2" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_8b22da9ea7e4bba366734212cf" ON "collection_position" ("transaction_id") `)
        await db.query(`CREATE INDEX "IDX_787bd0d50a757014fd00164ccf" ON "collection_position" ("pool_id") `)
        await db.query(`CREATE INDEX "IDX_79bb109f26c86f6303c7acf27a" ON "collection_position" ("token_id") `)
        await db.query(`CREATE INDEX "IDX_06d472357c084bb3cc06415af2" ON "collection_position" ("recipient") `)
        await db.query(`CREATE INDEX "IDX_58d5d685b1c36c793438585138" ON "collection_position" ("tick_lower") `)
        await db.query(`CREATE INDEX "IDX_a6ec9036ec2e1a98b7ee92fae8" ON "collection_position" ("tick_upper") `)
        await db.query(`CREATE TABLE "pool" ("id" character varying NOT NULL, "chain_id" integer NOT NULL, "token0" text NOT NULL, "token1" text NOT NULL, "fee" integer NOT NULL, "pool_address" text NOT NULL, CONSTRAINT "PK_db1bfe411e1516c01120b85f8fe" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_ca7b22bed322c7c1c817d7fefc" ON "pool" ("chain_id") `)
        await db.query(`CREATE INDEX "IDX_d33ce43928d5ee9e71030dc266" ON "pool" ("token0") `)
        await db.query(`CREATE INDEX "IDX_d39ca709b11f93e38e867c1cec" ON "pool" ("token1") `)
        await db.query(`CREATE INDEX "IDX_211ad7aa73f85a0b5590e7b67a" ON "pool" ("fee") `)
        await db.query(`CREATE INDEX "IDX_bde85df65d094fb9c2ffe1f16a" ON "pool" ("pool_address") `)
        await db.query(`CREATE TABLE "swap" ("id" character varying NOT NULL, "recipient" text, "amount0" numeric NOT NULL, "amount1" numeric NOT NULL, "sqrt_price_x96" numeric NOT NULL, "liquidity" numeric NOT NULL, "tick" integer NOT NULL, "transaction_id" character varying, "pool_id" character varying, CONSTRAINT "PK_4a10d0f359339acef77e7f986d9" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_78506c4050ae7cedd50b08c0dc" ON "swap" ("transaction_id") `)
        await db.query(`CREATE INDEX "IDX_e78e7b899d2e3327494e5fe975" ON "swap" ("pool_id") `)
        await db.query(`CREATE INDEX "IDX_f0b35b291cac1c935196170795" ON "swap" ("recipient") `)
        await db.query(`CREATE INDEX "IDX_7b1fec35dcad8a910a60b0fbf6" ON "swap" ("sqrt_price_x96") `)
        await db.query(`CREATE INDEX "IDX_20b0f47fa4e580aa466b329b4f" ON "swap" ("tick") `)
        await db.query(`CREATE TABLE "transaction" ("id" character varying NOT NULL, "hash" text NOT NULL, "to" text, "from" text, "status" integer, "gas_used" numeric NOT NULL, "block_id" character varying, CONSTRAINT "PK_89eadb93a89810556e1cbcd6ab9" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_c0e1460f3c9eee975fee81002d" ON "transaction" ("block_id") `)
        await db.query(`CREATE INDEX "IDX_de4f0899c41c688529784bc443" ON "transaction" ("hash") `)
        await db.query(`CREATE INDEX "IDX_1713783ebe978fa2ae9654e4bb" ON "transaction" ("to") `)
        await db.query(`CREATE INDEX "IDX_290df3897fac99713afb5f3d7a" ON "transaction" ("from") `)
        await db.query(`CREATE INDEX "IDX_63f749fc7f7178ae1ad85d3b95" ON "transaction" ("status") `)
        await db.query(`CREATE TABLE "block" ("id" character varying NOT NULL, "chain_id" integer NOT NULL, "block_number" integer NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, CONSTRAINT "PK_d0925763efb591c2e2ffb267572" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_4a93f9f420d5e2c32f108975b7" ON "block" ("chain_id") `)
        await db.query(`CREATE INDEX "IDX_f40192bd17405d84ecdb4163bb" ON "block" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_5c67cbcf4960c1a39e5fe25e87" ON "block" ("timestamp") `)
        await db.query(`ALTER TABLE "mint_position" ADD CONSTRAINT "FK_ef29b975a943bef758913c4f53c" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "mint_position" ADD CONSTRAINT "FK_735bd390d7f96c9d29443b18a3b" FOREIGN KEY ("pool_id") REFERENCES "pool"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "decrease_position_liquidity" ADD CONSTRAINT "FK_cfd3a322107d64a437b15aa8005" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "decrease_position_liquidity" ADD CONSTRAINT "FK_a9a54e6f04c0735d9d2b83978ae" FOREIGN KEY ("pool_id") REFERENCES "pool"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "collection_position" ADD CONSTRAINT "FK_8b22da9ea7e4bba366734212cff" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "collection_position" ADD CONSTRAINT "FK_787bd0d50a757014fd00164ccf4" FOREIGN KEY ("pool_id") REFERENCES "pool"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "swap" ADD CONSTRAINT "FK_78506c4050ae7cedd50b08c0dc5" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "swap" ADD CONSTRAINT "FK_e78e7b899d2e3327494e5fe975d" FOREIGN KEY ("pool_id") REFERENCES "pool"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transaction" ADD CONSTRAINT "FK_c0e1460f3c9eee975fee81002dc" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    }

    async down(db) {
        await db.query(`DROP TABLE "mint_position"`)
        await db.query(`DROP INDEX "public"."IDX_ef29b975a943bef758913c4f53"`)
        await db.query(`DROP INDEX "public"."IDX_735bd390d7f96c9d29443b18a3"`)
        await db.query(`DROP INDEX "public"."IDX_72ef90f44fee5ba417dc2aab1a"`)
        await db.query(`DROP INDEX "public"."IDX_11804999d0bce72926fb79234d"`)
        await db.query(`DROP TABLE "decrease_position_liquidity"`)
        await db.query(`DROP INDEX "public"."IDX_cfd3a322107d64a437b15aa800"`)
        await db.query(`DROP INDEX "public"."IDX_a9a54e6f04c0735d9d2b83978a"`)
        await db.query(`DROP INDEX "public"."IDX_24c246a3072462aca1a85de760"`)
        await db.query(`DROP INDEX "public"."IDX_df9f8247259df16c9b0b5204f6"`)
        await db.query(`DROP INDEX "public"."IDX_3dce758f01f91d72f348132659"`)
        await db.query(`DROP TABLE "collection_position"`)
        await db.query(`DROP INDEX "public"."IDX_8b22da9ea7e4bba366734212cf"`)
        await db.query(`DROP INDEX "public"."IDX_787bd0d50a757014fd00164ccf"`)
        await db.query(`DROP INDEX "public"."IDX_79bb109f26c86f6303c7acf27a"`)
        await db.query(`DROP INDEX "public"."IDX_06d472357c084bb3cc06415af2"`)
        await db.query(`DROP INDEX "public"."IDX_58d5d685b1c36c793438585138"`)
        await db.query(`DROP INDEX "public"."IDX_a6ec9036ec2e1a98b7ee92fae8"`)
        await db.query(`DROP TABLE "pool"`)
        await db.query(`DROP INDEX "public"."IDX_ca7b22bed322c7c1c817d7fefc"`)
        await db.query(`DROP INDEX "public"."IDX_d33ce43928d5ee9e71030dc266"`)
        await db.query(`DROP INDEX "public"."IDX_d39ca709b11f93e38e867c1cec"`)
        await db.query(`DROP INDEX "public"."IDX_211ad7aa73f85a0b5590e7b67a"`)
        await db.query(`DROP INDEX "public"."IDX_bde85df65d094fb9c2ffe1f16a"`)
        await db.query(`DROP TABLE "swap"`)
        await db.query(`DROP INDEX "public"."IDX_78506c4050ae7cedd50b08c0dc"`)
        await db.query(`DROP INDEX "public"."IDX_e78e7b899d2e3327494e5fe975"`)
        await db.query(`DROP INDEX "public"."IDX_f0b35b291cac1c935196170795"`)
        await db.query(`DROP INDEX "public"."IDX_7b1fec35dcad8a910a60b0fbf6"`)
        await db.query(`DROP INDEX "public"."IDX_20b0f47fa4e580aa466b329b4f"`)
        await db.query(`DROP TABLE "transaction"`)
        await db.query(`DROP INDEX "public"."IDX_c0e1460f3c9eee975fee81002d"`)
        await db.query(`DROP INDEX "public"."IDX_de4f0899c41c688529784bc443"`)
        await db.query(`DROP INDEX "public"."IDX_1713783ebe978fa2ae9654e4bb"`)
        await db.query(`DROP INDEX "public"."IDX_290df3897fac99713afb5f3d7a"`)
        await db.query(`DROP INDEX "public"."IDX_63f749fc7f7178ae1ad85d3b95"`)
        await db.query(`DROP TABLE "block"`)
        await db.query(`DROP INDEX "public"."IDX_4a93f9f420d5e2c32f108975b7"`)
        await db.query(`DROP INDEX "public"."IDX_f40192bd17405d84ecdb4163bb"`)
        await db.query(`DROP INDEX "public"."IDX_5c67cbcf4960c1a39e5fe25e87"`)
        await db.query(`ALTER TABLE "mint_position" DROP CONSTRAINT "FK_ef29b975a943bef758913c4f53c"`)
        await db.query(`ALTER TABLE "mint_position" DROP CONSTRAINT "FK_735bd390d7f96c9d29443b18a3b"`)
        await db.query(`ALTER TABLE "decrease_position_liquidity" DROP CONSTRAINT "FK_cfd3a322107d64a437b15aa8005"`)
        await db.query(`ALTER TABLE "decrease_position_liquidity" DROP CONSTRAINT "FK_a9a54e6f04c0735d9d2b83978ae"`)
        await db.query(`ALTER TABLE "collection_position" DROP CONSTRAINT "FK_8b22da9ea7e4bba366734212cff"`)
        await db.query(`ALTER TABLE "collection_position" DROP CONSTRAINT "FK_787bd0d50a757014fd00164ccf4"`)
        await db.query(`ALTER TABLE "swap" DROP CONSTRAINT "FK_78506c4050ae7cedd50b08c0dc5"`)
        await db.query(`ALTER TABLE "swap" DROP CONSTRAINT "FK_e78e7b899d2e3327494e5fe975d"`)
        await db.query(`ALTER TABLE "transaction" DROP CONSTRAINT "FK_c0e1460f3c9eee975fee81002dc"`)
    }
}
